(function(e){function t(t){for(var n,r,i=t[0],c=t[1],l=t[2],m=0,p=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,i=1;i<s.length;i++){var c=s[i];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},o={app:0},a=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"13cb":function(e,t,s){"use strict";s("47b1")},"47b1":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var n=s("7a23");function o(e,t){const s=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["c"])(s)}s("a9be");var a=s("6b0d"),r=s.n(a);const i={},c=r()(i,[["render",o]]);var l=c,u=s("6c02");const m={class:"container"},p={id:"option"},d=Object(n["f"])("Or ");function b(e,t,s,o,a,r){const i=Object(n["v"])("Header"),c=Object(n["v"])("SignInForm"),l=Object(n["v"])("SignUpForm"),u=Object(n["v"])("EmailForm"),b=Object(n["v"])("PasswordForm"),h=Object(n["v"])("ResetButton");return Object(n["p"])(),Object(n["d"])("div",m,[Object(n["g"])(i),Object(n["e"])("h1",null,Object(n["x"])(a.title),1),Object(n["C"])(Object(n["e"])("div",p,[Object(n["e"])("h2",null,[d,Object(n["e"])("span",{onClick:t[0]||(t[0]=e=>r.onClick()),class:"click"},Object(n["x"])(a.option),1)])],512),[[n["A"],a.sign]]),Object(n["C"])(Object(n["g"])(c,{onSignin:r.signIn},null,8,["onSignin"]),[[n["A"],a.showSignIn]]),Object(n["C"])(Object(n["g"])(l,{onSignup:r.signUp},null,8,["onSignup"]),[[n["A"],a.showSignUp]]),Object(n["C"])(Object(n["g"])(u,{onSendemail:r.sendEmail},null,8,["onSendemail"]),[[n["A"],a.showEmailForm]]),Object(n["C"])(Object(n["g"])(b,{onResetpassword:r.resetPassword},null,8,["onResetpassword"]),[[n["A"],a.showPasswordForm]]),Object(n["C"])(Object(n["g"])(h,{onReset:r.reset},null,8,["onReset"]),[[n["A"],a.showReset]])])}var h=s("fe90"),O=s.n(h);const j=e=>(Object(n["s"])("data-v-54095565"),e=e(),Object(n["q"])(),e),w=j(()=>Object(n["e"])("img",{src:O.a,alt:"key_icon"},null,-1)),f=j(()=>Object(n["e"])("h1",null,[Object(n["f"])(" | "),Object(n["e"])("a",{href:"/"}," Clement Bonal Web Security")],-1)),g=[w,f];function v(e,t){return Object(n["p"])(),Object(n["d"])("header",null,g)}s("7714");const S={},y=r()(S,[["render",v],["__scopeId","data-v-54095565"]]);var P=y;const U={class:"form-control"},F=Object(n["e"])("label",null,"Username",-1),C={class:"form-control"},R=Object(n["e"])("label",null,"Email",-1),E={class:"form-control"},I=Object(n["e"])("label",null,"Password",-1),x=Object(n["e"])("input",{type:"submit",value:"Sign In",class:"btn"},null,-1);function _(e,t,s,o,a,r){return Object(n["p"])(),Object(n["d"])("form",{onSubmit:t[3]||(t[3]=(...e)=>r.onSubmit&&r.onSubmit(...e)),class:"signin-form"},[Object(n["e"])("div",U,[F,Object(n["C"])(Object(n["e"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),name:"username",placeholder:"Username"},null,512),[[n["z"],a.username]])]),Object(n["e"])("div",C,[R,Object(n["C"])(Object(n["e"])("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>a.email=e),name:"email",placeholder:"Email"},null,512),[[n["z"],a.email]])]),Object(n["e"])("div",E,[I,Object(n["C"])(Object(n["e"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),name:"password",placeholder:"Password"},null,512),[[n["z"],a.password]])]),x],32)}var k={name:"SignInForm",data(){return{username:"",email:"",password:""}},methods:{onSubmit(e){e.preventDefault();const t={username:this.username,email:this.email,password:this.password};this.$emit("signin",t),this.username="",this.email="",this.password=""}}};s("13cb");const $=r()(k,[["render",_]]);var z=$;const M={class:"form-control"},V=Object(n["e"])("label",null,"Username",-1),A={class:"form-control"},H=Object(n["e"])("label",null,"Email",-1),D={class:"form-control"},B=Object(n["e"])("label",null,"Password",-1),L=Object(n["e"])("input",{type:"submit",value:"Sign Up",class:"btn"},null,-1);function q(e,t,s,o,a,r){return Object(n["p"])(),Object(n["d"])("form",{onSubmit:t[3]||(t[3]=(...e)=>r.onSubmit&&r.onSubmit(...e)),class:"signup-form"},[Object(n["e"])("div",M,[V,Object(n["C"])(Object(n["e"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),name:"username",placeholder:"Username"},null,512),[[n["z"],a.username]])]),Object(n["e"])("div",A,[H,Object(n["C"])(Object(n["e"])("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>a.email=e),name:"email",placeholder:"Email"},null,512),[[n["z"],a.email]])]),Object(n["e"])("div",D,[B,Object(n["C"])(Object(n["e"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),name:"password",placeholder:"Password"},null,512),[[n["z"],a.password]])]),L],32)}var J={name:"SignUpForm",data(){return{username:"",email:"",password:""}},methods:{onSubmit(e){e.preventDefault();const t={username:this.username,email:this.email,password:this.password};this.$emit("signup",t),this.username="",this.email="",this.password=""}}};const T=r()(J,[["render",q]]);var W=T;function G(e,t,s,o,a,r){return Object(n["p"])(),Object(n["d"])("button",{onClick:t[0]||(t[0]=(...e)=>r.onClick&&r.onClick(...e)),class:"btn"},"Reset Password")}var K={name:"ResetButton",methods:{onClick(e){e.preventDefault(),this.$emit("reset")}}};s("5b08");const N=r()(K,[["render",G],["__scopeId","data-v-141f4d54"]]);var Q=N;const X={class:"form-control"},Y=Object(n["e"])("label",null,"Email",-1),Z=Object(n["e"])("input",{type:"submit",value:"Send Email",class:"btn"},null,-1);function ee(e,t,s,o,a,r){return Object(n["p"])(),Object(n["d"])("form",{onSubmit:t[1]||(t[1]=(...e)=>r.onSubmit&&r.onSubmit(...e)),class:"email-form"},[Object(n["e"])("div",X,[Y,Object(n["C"])(Object(n["e"])("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),name:"email",placeholder:"Email"},null,512),[[n["z"],a.email]])]),Z],32)}var te={name:"EmailForm",data(){return{email:""}},methods:{onSubmit(e){e.preventDefault(),this.$emit("sendemail",this.email),this.email=""}}};const se=r()(te,[["render",ee]]);var ne=se;const oe={class:"form-control"},ae=Object(n["e"])("label",null,"Password",-1),re=Object(n["e"])("input",{type:"submit",value:"Reset Password",class:"btn"},null,-1);function ie(e,t,s,o,a,r){return Object(n["p"])(),Object(n["d"])("form",{onSubmit:t[1]||(t[1]=(...e)=>r.onSubmit&&r.onSubmit(...e)),class:"password-form"},[Object(n["e"])("div",oe,[ae,Object(n["C"])(Object(n["e"])("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>a.password=e),name:"password",placeholder:"Password"},null,512),[[n["z"],a.password]])]),re],32)}var ce={name:"PasswordForm",data(){return{password:""}},methods:{onSubmit(e){e.preventDefault(),this.$emit("resetpassword",this.password),this.password=""}}};const le=r()(ce,[["render",ie]]);var ue=le,me=s("bc3a"),pe=s.n(me),de=s("1940"),be=s.n(de),he={name:"Home",components:{Header:P,SignInForm:z,SignUpForm:W,ResetButton:Q,EmailForm:ne,PasswordForm:ue},data(){return{title:"Login",option:"Register",showSignIn:!0,showSignUp:!1,sign:!0,showEmailForm:!1,showPasswordForm:!1,showReset:!0}},methods:{async signIn(e){await pe.a.post("api/users/signin",e).then(()=>{this.username=e.username,this.$router.push({name:"MyPage",params:{username:this.username}}),be()({text:"User signin successful",icon:"success"})}).catch(e=>console.log("err",e))},async signUp(e){await pe.a.post("api/users/signup",e).then(()=>{this.$router.push({name:"MyPage",params:{username:this.username}}),be()({text:"User signup successful",icon:"success"})}).catch(e=>console.log("err",e))},onClick(){this.showSignIn=!this.showSignIn,this.showSignUp=!this.showSignUp,this.showSignUp?(this.title="Register",this.option="Login"):(this.title="Login",this.option="Register")},reset(){this.showSignIn=!1,this.showSignUp=!1,this.showEmailForm=!0,this.showReset=!1,this.sign=!1,this.title="Reset your password"},async sendEmail(e){const t={email:e,password:""};await pe.a.post("api/users/resetpassword",t).then(()=>{this.showSignIn=!1,this.showSignUp=!1,this.showEmailForm=!1,this.showPasswordForm=!0,this.showReset=!1,this.sign=!1,this.email=e,be()({text:"Email send successfully",icon:"success"})}).catch(e=>console.log("err",e))},async resetPassword(e){const t={email:this.email,password:e};await pe.a.post("api/users/setpasswordreset",t).then(()=>{this.showSignIn=!0,this.showSignUp=!1,this.showEmailForm=!1,this.showPasswordForm=!1,this.showReset=!0,this.sign=!0,this.title="Login",this.$router.replace("/"),be()({text:"Password reset successfully",icon:"success"})}).catch(e=>console.log("err",e))}},created(){this.$route.query.email&&(this.showSignIn=!1,this.showSignUp=!1,this.showEmailForm=!1,this.showPasswordForm=!0,this.showReset=!1,this.sign=!1,this.title=this.title="Reset your password",this.email=this.$route.query.email)}};s("a917");const Oe=r()(he,[["render",b],["__scopeId","data-v-1d0298fd"]]);var je=Oe;const we={class:"container"};function fe(e,t,s,o,a,r){const i=Object(n["v"])("Header");return Object(n["p"])(),Object(n["d"])("div",we,[Object(n["g"])(i),Object(n["e"])("h1",null,"Welcome "+Object(n["x"])(s.username)+" !",1)])}var ge={name:"MyPage",components:{Header:P},props:{username:String}};s("83a1");const ve=r()(ge,[["render",fe],["__scopeId","data-v-4934f343"]]);var Se=ve;const ye=[{path:"/",name:"Home",component:je},{path:"/mypage/:username",name:"MyPage",component:Se,props:!0}],Pe=Object(u["a"])({history:Object(u["b"])(),routes:ye});var Ue=Pe;Object(n["b"])(l).use(Ue).mount("#app")},"5b08":function(e,t,s){"use strict";s("7251")},"6f21":function(e,t,s){},7251:function(e,t,s){},7714:function(e,t,s){"use strict";s("7a8c")},"7a8c":function(e,t,s){},"83a1":function(e,t,s){"use strict";s("c1e0")},a5b3:function(e,t,s){},a917:function(e,t,s){"use strict";s("6f21")},a9be:function(e,t,s){"use strict";s("a5b3")},c1e0:function(e,t,s){},fe90:function(e,t,s){e.exports=s.p+"img/key_icon.137f0087.svg"}});
//# sourceMappingURL=app.0d0861ca.js.map